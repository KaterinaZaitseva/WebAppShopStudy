{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/token-storage.service\";\nexport class AuthorizarionInterceptor {\n  constructor(tokenStorageService) {\n    this.tokenStorageService = tokenStorageService;\n  }\n  intercept(request, next) {\n    const token = this.tokenStorageService.getUserToken();\n    if (!token) {\n      return next.handle(request);\n    }\n    request = request.clone({\n      headers: request.headers.set('Authorization', 'Bearer ' + token)\n    });\n    return next.handle(request);\n  }\n}\nAuthorizarionInterceptor.ɵfac = function AuthorizarionInterceptor_Factory(t) {\n  return new (t || AuthorizarionInterceptor)(i0.ɵɵinject(i1.TokenStorageService));\n};\nAuthorizarionInterceptor.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthorizarionInterceptor,\n  factory: AuthorizarionInterceptor.ɵfac\n});","map":{"version":3,"names":["AuthorizarionInterceptor","constructor","tokenStorageService","intercept","request","next","token","getUserToken","handle","clone","headers","set","i0","ɵɵinject","i1","TokenStorageService","factory","ɵfac"],"sources":["/Users/kauriya/Documents/Projects/ASP.NET/WebAppShopStudy/web-shop-client/src/app/interceptors/authorization-interceptor.ts"],"sourcesContent":["import { HttpInterceptor, HttpRequest, HttpHandler, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { TokenStorageService } from '../services/token-storage.service';\r\n\r\n@Injectable()\r\nexport class AuthorizarionInterceptor implements HttpInterceptor {\r\n\r\n    constructor(private tokenStorageService: TokenStorageService) {}\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler) {\r\n        const token = this.tokenStorageService.getUserToken();\r\n\r\n        if (!token) {\r\n            return next.handle(request);\r\n        }\r\n\r\n        request = request.clone({\r\n            headers: request.headers.set('Authorization', 'Bearer ' + token)\r\n        });\r\n\r\n        return next.handle(request);\r\n    }\r\n}"],"mappings":";;AAKA,OAAM,MAAOA,wBAAwB;EAEjCC,YAAoBC,mBAAwC;IAAxC,KAAAA,mBAAmB,GAAnBA,mBAAmB;EAAwB;EAE/DC,SAASA,CAACC,OAAyB,EAAEC,IAAiB;IAClD,MAAMC,KAAK,GAAG,IAAI,CAACJ,mBAAmB,CAACK,YAAY,EAAE;IAErD,IAAI,CAACD,KAAK,EAAE;MACR,OAAOD,IAAI,CAACG,MAAM,CAACJ,OAAO,CAAC;;IAG/BA,OAAO,GAAGA,OAAO,CAACK,KAAK,CAAC;MACpBC,OAAO,EAAEN,OAAO,CAACM,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE,SAAS,GAAGL,KAAK;KAClE,CAAC;IAEF,OAAOD,IAAI,CAACG,MAAM,CAACJ,OAAO,CAAC;EAC/B;;AAhBSJ,wBAAwB,C;mBAAxBA,wBAAwB,EAAAY,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,mBAAA;AAAA;AAAxBf,wBAAwB,C;SAAxBA,wBAAwB;EAAAgB,OAAA,EAAxBhB,wBAAwB,CAAAiB;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}