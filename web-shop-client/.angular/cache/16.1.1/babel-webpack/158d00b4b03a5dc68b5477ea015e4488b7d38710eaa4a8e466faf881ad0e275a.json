{"ast":null,"code":"import { ModalEditProductComponent } from '../modal/modal-edit-product/modal-edit-product.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/products.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../cards/product-editable-card/product-editable-card.component\";\nimport * as i4 from \"../modal/modal-edit-product/modal-edit-product.component\";\nimport * as i5 from \"../modal/modal-create-product/modal-create-product.component\";\nimport * as i6 from \"../../pipes/filter-products.pipe\";\nfunction ProductsAdminComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-product-editable-card\", 4);\n    i0.ɵɵlistener(\"onChange\", function ProductsAdminComponent_div_2_div_1_Template_app_product_editable_card_onChange_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.updateProducts());\n    })(\"onEdit\", function ProductsAdminComponent_div_2_div_1_Template_app_product_editable_card_onEdit_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.editProduct($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"product\", product_r3);\n  }\n}\nfunction ProductsAdminComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, ProductsAdminComponent_div_2_div_1_Template, 2, 1, \"div\", 3);\n    i0.ɵɵpipe(2, \"filterProducts\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const products_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(2, 1, products_r1, ctx_r0.term));\n  }\n}\nexport class ProductsAdminComponent {\n  constructor(productsService) {\n    this.productsService = productsService;\n  }\n  ngOnInit() {\n    this.updateProducts();\n  }\n  updateProducts() {\n    this.products$ = this.productsService.getAll();\n  }\n  editProduct(product) {\n    this.editModal?.showModal(product);\n  }\n}\nProductsAdminComponent.ɵfac = function ProductsAdminComponent_Factory(t) {\n  return new (t || ProductsAdminComponent)(i0.ɵɵdirectiveInject(i1.ProductsService));\n};\nProductsAdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsAdminComponent,\n  selectors: [[\"app-products-admin\"]],\n  viewQuery: function ProductsAdminComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(ModalEditProductComponent, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.editModal = _t.first);\n    }\n  },\n  inputs: {\n    term: \"term\",\n    products$: \"products$\"\n  },\n  decls: 4,\n  vars: 3,\n  consts: [[2, \"position\", \"fixed\", \"bottom\", \"40px\", \"right\", \"40px\", 3, \"onChange\"], [\"class\", \"cards-container\", 4, \"ngIf\"], [1, \"cards-container\"], [4, \"ngFor\", \"ngForOf\"], [3, \"product\", \"onChange\", \"onEdit\"]],\n  template: function ProductsAdminComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"app-modal-create-product\", 0);\n      i0.ɵɵlistener(\"onChange\", function ProductsAdminComponent_Template_app_modal_create_product_onChange_0_listener() {\n        return ctx.updateProducts();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(1, \"app-modal-edit-product\");\n      i0.ɵɵtemplate(2, ProductsAdminComponent_div_2_Template, 3, 4, \"div\", 1);\n      i0.ɵɵpipe(3, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 1, ctx.products$));\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ProductEditableCardComponent, i4.ModalEditProductComponent, i5.ModalCreateProductComponent, i2.AsyncPipe, i6.FilterProductsPipe],\n  styles: [\".cards-container[_ngcontent-%COMP%] {\\n    display: flex; \\n    flex-wrap: wrap; \\n    justify-content: center; \\n    margin: auto 70px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcm9kdWN0cy1hZG1pbi9wcm9kdWN0cy1hZG1pbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLGVBQWU7SUFDZix1QkFBdUI7SUFDdkIsaUJBQWlCO0FBQ3JCIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmRzLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4OyBcclxuICAgIGZsZXgtd3JhcDogd3JhcDsgXHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgXHJcbiAgICBtYXJnaW46IGF1dG8gNzBweDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["ModalEditProductComponent","i0","ɵɵelementStart","ɵɵlistener","ProductsAdminComponent_div_2_div_1_Template_app_product_editable_card_onChange_1_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","updateProducts","ProductsAdminComponent_div_2_div_1_Template_app_product_editable_card_onEdit_1_listener","$event","ctx_r6","editProduct","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","product_r3","ɵɵtemplate","ProductsAdminComponent_div_2_div_1_Template","ɵɵpipeBind2","products_r1","ctx_r0","term","ProductsAdminComponent","constructor","productsService","ngOnInit","products$","getAll","product","editModal","showModal","ɵɵdirectiveInject","i1","ProductsService","selectors","viewQuery","ProductsAdminComponent_Query","rf","ctx","ProductsAdminComponent_Template_app_modal_create_product_onChange_0_listener","ɵɵelement","ProductsAdminComponent_div_2_Template","ɵɵpipeBind1"],"sources":["/Users/kauriya/Documents/Projects/ASP.NET/WebAppShopStudy/web-shop-client/src/app/components/products-admin/products-admin.component.ts","/Users/kauriya/Documents/Projects/ASP.NET/WebAppShopStudy/web-shop-client/src/app/components/products-admin/products-admin.component.html"],"sourcesContent":["import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { IProductModel } from 'src/app/models/product-model';\nimport { ProductsService } from 'src/app/services/products.service';\nimport { ModalEditProductComponent } from '../modal/modal-edit-product/modal-edit-product.component';\n\n@Component({\n  selector: 'app-products-admin',\n  templateUrl: './products-admin.component.html',\n  styleUrls: ['./products-admin.component.css']\n})\nexport class ProductsAdminComponent implements OnInit{\n\n  constructor(public productsService: ProductsService) { }\n  \n\n  @Input() term: string;\n  @Input() products$: Observable<IProductModel[]>;\n  @ViewChild(ModalEditProductComponent) editModal: ModalEditProductComponent | undefined\n\n  \n  \n  ngOnInit(): void {\n    this.updateProducts();\n  }\n\n  updateProducts(): void {\n    this.products$ = this.productsService.getAll();\n  }\n\n  editProduct(product: IProductModel): void {\n    this.editModal?.showModal(product);\n  }\n}\n","<app-modal-create-product style=\"position: fixed; bottom: 40px; right: 40px\" (onChange)=\"updateProducts()\"></app-modal-create-product>\n<app-modal-edit-product></app-modal-edit-product>\n\n<div class=\"cards-container\" *ngIf=\"products$ | async as products\"> \n    <div *ngFor=\"let product of products | filterProducts:term\">\n        <app-product-editable-card [product]=\"product\" (onChange)=\"updateProducts()\" \n            (onEdit)=\"editProduct($event)\">\n        </app-product-editable-card>\n    </div>\n</div>\n\n"],"mappings":"AAIA,SAASA,yBAAyB,QAAQ,0DAA0D;;;;;;;;;;;ICAhGC,EAAA,CAAAC,cAAA,UAA4D;IACTD,EAAA,CAAAE,UAAA,sBAAAC,0FAAA;MAAAH,EAAA,CAAAI,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAN,EAAA,CAAAO,aAAA;MAAA,OAAYP,EAAA,CAAAQ,WAAA,CAAAF,MAAA,CAAAG,cAAA,EAAgB;IAAA,EAAC,oBAAAC,wFAAAC,MAAA;MAAAX,EAAA,CAAAI,aAAA,CAAAC,GAAA;MAAA,MAAAO,MAAA,GAAAZ,EAAA,CAAAO,aAAA;MAAA,OAC9DP,EAAA,CAAAQ,WAAA,CAAAI,MAAA,CAAAC,WAAA,CAAAF,MAAA,CAAmB;IAAA,EAD2C;IAE5EX,EAAA,CAAAc,YAAA,EAA4B;;;;IAFDd,EAAA,CAAAe,SAAA,GAAmB;IAAnBf,EAAA,CAAAgB,UAAA,YAAAC,UAAA,CAAmB;;;;;IAFtDjB,EAAA,CAAAC,cAAA,aAAmE;IAC/DD,EAAA,CAAAkB,UAAA,IAAAC,2CAAA,iBAIM;;IACVnB,EAAA,CAAAc,YAAA,EAAM;;;;;IALuBd,EAAA,CAAAe,SAAA,GAAiC;IAAjCf,EAAA,CAAAgB,UAAA,YAAAhB,EAAA,CAAAoB,WAAA,OAAAC,WAAA,EAAAC,MAAA,CAAAC,IAAA,EAAiC;;;ADO9D,OAAM,MAAOC,sBAAsB;EAEjCC,YAAmBC,eAAgC;IAAhC,KAAAA,eAAe,GAAfA,eAAe;EAAqB;EASvDC,QAAQA,CAAA;IACN,IAAI,CAAClB,cAAc,EAAE;EACvB;EAEAA,cAAcA,CAAA;IACZ,IAAI,CAACmB,SAAS,GAAG,IAAI,CAACF,eAAe,CAACG,MAAM,EAAE;EAChD;EAEAhB,WAAWA,CAACiB,OAAsB;IAChC,IAAI,CAACC,SAAS,EAAEC,SAAS,CAACF,OAAO,CAAC;EACpC;;AArBWN,sBAAsB,C;mBAAtBA,sBAAsB,EAAAxB,EAAA,CAAAiC,iBAAA,CAAAC,EAAA,CAAAC,eAAA;AAAA;AAAtBX,sBAAsB,C;QAAtBA,sBAAsB;EAAAY,SAAA;EAAAC,SAAA,WAAAC,6BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;qBAOtBxC,yBAAyB;;;;;;;;;;;;;;;;MClBtCC,EAAA,CAAAC,cAAA,kCAA2G;MAA9BD,EAAA,CAAAE,UAAA,sBAAAuC,6EAAA;QAAA,OAAYD,GAAA,CAAA/B,cAAA,EAAgB;MAAA,EAAC;MAACT,EAAA,CAAAc,YAAA,EAA2B;MACtId,EAAA,CAAA0C,SAAA,6BAAiD;MAEjD1C,EAAA,CAAAkB,UAAA,IAAAyB,qCAAA,iBAMM;;;;MANwB3C,EAAA,CAAAe,SAAA,GAAwB;MAAxBf,EAAA,CAAAgB,UAAA,SAAAhB,EAAA,CAAA4C,WAAA,OAAAJ,GAAA,CAAAZ,SAAA,EAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}