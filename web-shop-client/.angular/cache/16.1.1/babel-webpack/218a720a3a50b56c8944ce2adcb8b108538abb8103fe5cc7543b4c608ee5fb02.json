{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ng-zorro-antd/message\";\nimport * as i2 from \"src/app/services/products.service\";\nimport * as i3 from \"ng-zorro-antd/card\";\nimport * as i4 from \"ng-zorro-antd/icon\";\nimport * as i5 from \"ng-zorro-antd/core/transition-patch\";\nimport * as i6 from \"ng-zorro-antd/popconfirm\";\nfunction ProductEditableCardComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 5);\n    i0.ɵɵlistener(\"click\", function ProductEditableCardComponent_ng_template_6_Template_span_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.editProduct());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductEditableCardComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 6);\n    i0.ɵɵlistener(\"nzOnConfirm\", function ProductEditableCardComponent_ng_template_8_Template_span_nzOnConfirm_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.confirmDelete());\n    })(\"nzOnCancel\", function ProductEditableCardComponent_ng_template_8_Template_span_nzOnCancel_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.cancelDelete());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0, a1) {\n  return [a0, a1];\n};\nexport class ProductEditableCardComponent {\n  constructor(nzMessageService, productsService) {\n    this.nzMessageService = nzMessageService;\n    this.productsService = productsService;\n    this.onChange = new EventEmitter();\n    this.onEdit = new EventEmitter();\n  }\n  updateProducts() {\n    this.onChange?.emit();\n  }\n  editProduct() {\n    this.onEdit?.emit(this.product);\n  }\n  cancelDelete() {\n    this.nzMessageService.info('Cancellation of deletion');\n  }\n  confirmDelete() {\n    this.nzMessageService.info('Successful deletion');\n    this.productsService.delete(this.product.id).subscribe(() => this.updateProducts());\n  }\n}\nProductEditableCardComponent.ɵfac = function ProductEditableCardComponent_Factory(t) {\n  return new (t || ProductEditableCardComponent)(i0.ɵɵdirectiveInject(i1.NzMessageService), i0.ɵɵdirectiveInject(i2.ProductsService));\n};\nProductEditableCardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductEditableCardComponent,\n  selectors: [[\"app-product-editable-card\"]],\n  inputs: {\n    product: \"product\"\n  },\n  outputs: {\n    onChange: \"onChange\",\n    onEdit: \"onEdit\"\n  },\n  decls: 10,\n  vars: 8,\n  consts: [[\"nz-card\", \"\", 1, \"card\", 3, \"nzActions\", \"nzTitle\"], [\"alt\", \"avatar\", 3, \"src\"], [2, \"margin\", \"0\"], [\"actionEdit\", \"\"], [\"actionDelete\", \"\"], [\"nz-icon\", \"\", \"nzType\", \"edit\", 3, \"click\"], [\"nz-icon\", \"\", \"nzType\", \"delete\", \"nz-popconfirm\", \"\", \"nzPopconfirmTitle\", \"Are you sure delete this product\", \"nzPopconfirmPlacement\", \"bottom\", 3, \"nzOnConfirm\", \"nzOnCancel\"]],\n  template: function ProductEditableCardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nz-card\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"p\");\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\", 2);\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, ProductEditableCardComponent_ng_template_6_Template, 1, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(8, ProductEditableCardComponent_ng_template_8_Template, 1, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(7);\n      const _r2 = i0.ɵɵreference(9);\n      i0.ɵɵpropertyInterpolate(\"nzTitle\", ctx.product.name);\n      i0.ɵɵproperty(\"nzActions\", i0.ɵɵpureFunction2(5, _c0, _r0, _r2));\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.product.pictureUrl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Descripton: \", ctx.product.description, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Price: \", ctx.product.price, \"$\");\n    }\n  },\n  dependencies: [i3.NzCardComponent, i4.NzIconDirective, i5.ɵNzTransitionPatchDirective, i6.NzPopconfirmDirective],\n  styles: [\".card[_ngcontent-%COMP%] {\\n    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\\n    transition: 0.3s;\\n    border-radius: 5px; \\n    width: 300px;\\n    height: 400px;\\n    margin: 20px;\\n}\\n  \\n.card[_ngcontent-%COMP%]:hover {\\n    box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\\n}\\n  \\nimg[_ngcontent-%COMP%] {\\n    display: block;\\n    width: 70%;\\n    height: 185px;\\n    object-fit: cover;\\n    padding-bottom: 20px;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jYXJkcy9wcm9kdWN0LWVkaXRhYmxlLWNhcmQvcHJvZHVjdC1lZGl0YWJsZS1jYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx1Q0FBdUM7SUFDdkMsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSx3Q0FBd0M7QUFDNUM7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsVUFBVTtJQUNWLGFBQWE7SUFDYixpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEIiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZCB7XHJcbiAgICBib3gtc2hhZG93OiAwIDRweCA4cHggMCByZ2JhKDAsMCwwLDAuMik7XHJcbiAgICB0cmFuc2l0aW9uOiAwLjNzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4OyBcclxuICAgIHdpZHRoOiAzMDBweDtcclxuICAgIGhlaWdodDogNDAwcHg7XHJcbiAgICBtYXJnaW46IDIwcHg7XHJcbn1cclxuICBcclxuLmNhcmQ6aG92ZXIge1xyXG4gICAgYm94LXNoYWRvdzogMCA4cHggMTZweCAwIHJnYmEoMCwwLDAsMC4yKTtcclxufVxyXG4gIFxyXG5pbWcge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB3aWR0aDogNzAlO1xyXG4gICAgaGVpZ2h0OiAxODVweDtcclxuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDIwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵlistener","ProductEditableCardComponent_ng_template_6_Template_span_click_0_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","editProduct","ɵɵelementEnd","ProductEditableCardComponent_ng_template_8_Template_span_nzOnConfirm_0_listener","_r7","ctx_r6","confirmDelete","ProductEditableCardComponent_ng_template_8_Template_span_nzOnCancel_0_listener","ctx_r8","cancelDelete","ProductEditableCardComponent","constructor","nzMessageService","productsService","onChange","onEdit","updateProducts","emit","product","info","delete","id","subscribe","ɵɵdirectiveInject","i1","NzMessageService","i2","ProductsService","selectors","inputs","outputs","decls","vars","consts","template","ProductEditableCardComponent_Template","rf","ctx","ɵɵelement","ɵɵtext","ɵɵtemplate","ProductEditableCardComponent_ng_template_6_Template","ɵɵtemplateRefExtractor","ProductEditableCardComponent_ng_template_8_Template","ɵɵpropertyInterpolate","name","ɵɵproperty","ɵɵpureFunction2","_c0","_r0","_r2","ɵɵadvance","pictureUrl","ɵɵsanitizeUrl","ɵɵtextInterpolate1","description","price"],"sources":["/Users/kauriya/Documents/Projects/ASP.NET/WebAppShopStudy/web-shop-client/src/app/components/cards/product-editable-card/product-editable-card.component.ts","/Users/kauriya/Documents/Projects/ASP.NET/WebAppShopStudy/web-shop-client/src/app/components/cards/product-editable-card/product-editable-card.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';\nimport { IProductModel } from 'src/app/models/product-model';\nimport { ModalEditProductComponent } from '../../modal/modal-edit-product/modal-edit-product.component';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { ProductsService } from 'src/app/services/products.service';\n\n\n@Component({\n  selector: 'app-product-editable-card',\n  templateUrl: './product-editable-card.component.html',\n  styleUrls: ['./product-editable-card.component.css']\n})\nexport class ProductEditableCardComponent {\n\n  constructor(private nzMessageService: NzMessageService,\n    private productsService: ProductsService) {}\n  \n\n  @Input() product: IProductModel;\n  @Output() onChange : EventEmitter<any> = new EventEmitter();\n  @Output() onEdit : EventEmitter<IProductModel> = new EventEmitter();\n \n\n  updateProducts(): void {\n    this.onChange?.emit();\n  }\n\n  editProduct(): void {\n    this.onEdit?.emit(this.product);\n  }\n\n  cancelDelete(): void {\n    this.nzMessageService.info('Cancellation of deletion');\n  }\n\n  confirmDelete(): void {\n    this.nzMessageService.info('Successful deletion');\n    this.productsService.delete(this.product.id!).subscribe(\n      () => this.updateProducts()\n    );\n  }\n\n}","<nz-card nz-card class=\"card\"\n  [nzActions]=\"[actionEdit, actionDelete]\"\n  nzTitle=\"{{product.name}}\">\n  <img alt=\"avatar\"\n    src=\"{{product.pictureUrl}}\"/>\n  <p>Descripton: {{product.description}}</p>\n  <p style=\"margin: 0;\">Price: {{product.price}}$</p>\n  \n  <ng-template #actionEdit>\n    <span nz-icon nzType=\"edit\" (click)=\"editProduct()\"></span>\n  </ng-template>\n  \n  <ng-template #actionDelete>\n    <span\n      nz-icon nzType=\"delete\"\n      nz-popconfirm\n      nzPopconfirmTitle=\"Are you sure delete this product\"\n      nzPopconfirmPlacement=\"bottom\"\n      (nzOnConfirm)=\"confirmDelete()\"\n      (nzOnCancel)=\"cancelDelete()\">\n    </span>\n  </ng-template>\n</nz-card>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}