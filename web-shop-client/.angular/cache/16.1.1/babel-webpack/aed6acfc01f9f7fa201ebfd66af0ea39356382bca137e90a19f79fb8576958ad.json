{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/products.service\";\nimport * as i2 from \"src/app/services/products-cart-storage.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../cards/product-card/product-card.component\";\nimport * as i5 from \"../../pipes/filter-products.pipe\";\nfunction ProductsUserComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-product-card\", 3);\n    i0.ɵɵlistener(\"onAdded\", function ProductsUserComponent_div_0_div_1_Template_app_product_card_onAdded_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.addToCard($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"product\", product_r3);\n  }\n}\nfunction ProductsUserComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, ProductsUserComponent_div_0_div_1_Template, 2, 1, \"div\", 2);\n    i0.ɵɵpipe(2, \"filterProducts\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const products_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(2, 1, products_r1, ctx_r0.term));\n  }\n}\nexport class ProductsUserComponent {\n  constructor(productsService, productsCartStorageService) {\n    this.productsService = productsService;\n    this.productsCartStorageService = productsCartStorageService;\n    this.productsCart = [];\n  }\n  ngOnInit() {\n    this.products$ = this.productsService.getAll();\n    this.productsCart = this.productsCartStorageService.getProducts();\n  }\n  addToCard(product) {\n    this.productsCart.push(product);\n    this.productsCartStorageService.saveProducts(this.productsCart);\n  }\n  deleteFromCart(product) {\n    this.productsCart = this.productsCart.filter(p => p.id != product.id);\n  }\n}\nProductsUserComponent.ɵfac = function ProductsUserComponent_Factory(t) {\n  return new (t || ProductsUserComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.ProductsCartStorageService));\n};\nProductsUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsUserComponent,\n  selectors: [[\"app-products-user\"]],\n  inputs: {\n    term: \"term\",\n    products$: \"products$\"\n  },\n  decls: 2,\n  vars: 3,\n  consts: [[\"class\", \"cards-container\", 4, \"ngIf\"], [1, \"cards-container\"], [4, \"ngFor\", \"ngForOf\"], [3, \"product\", \"onAdded\"]],\n  template: function ProductsUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductsUserComponent_div_0_Template, 3, 4, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.products$));\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ProductCardComponent, i3.AsyncPipe, i5.FilterProductsPipe],\n  styles: [\".cards-container[_ngcontent-%COMP%] {\\n    display: flex; \\n    flex-wrap: wrap; \\n    justify-content: center; \\n    margin: auto 70px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcm9kdWN0cy11c2VyL3Byb2R1Y3RzLXVzZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYixlQUFlO0lBQ2YsdUJBQXVCO0lBQ3ZCLGlCQUFpQjtBQUNyQiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkcy1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDsgXHJcbiAgICBmbGV4LXdyYXA6IHdyYXA7IFxyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IFxyXG4gICAgbWFyZ2luOiBhdXRvIDcwcHg7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","ProductsUserComponent_div_0_div_1_Template_app_product_card_onAdded_1_listener","$event","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","addToCard","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","product_r3","ɵɵtemplate","ProductsUserComponent_div_0_div_1_Template","ɵɵpipeBind2","products_r1","ctx_r0","term","ProductsUserComponent","constructor","productsService","productsCartStorageService","productsCart","ngOnInit","products$","getAll","getProducts","product","push","saveProducts","deleteFromCart","filter","p","id","ɵɵdirectiveInject","i1","ProductsService","i2","ProductsCartStorageService","selectors","inputs","decls","vars","consts","template","ProductsUserComponent_Template","rf","ctx","ProductsUserComponent_div_0_Template","ɵɵpipeBind1"],"sources":["/Users/kauriya/Documents/Projects/ASP.NET/WebAppShopStudy/web-shop-client/src/app/components/products-user/products-user.component.ts","/Users/kauriya/Documents/Projects/ASP.NET/WebAppShopStudy/web-shop-client/src/app/components/products-user/products-user.component.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { IProductModel } from 'src/app/models/product-model';\nimport { ProductsCartStorageService } from 'src/app/services/products-cart-storage.service';\nimport { ProductsService } from 'src/app/services/products.service';\n\n@Component({\n  selector: 'app-products-user',\n  templateUrl: './products-user.component.html',\n  styleUrls: ['./products-user.component.css']\n})\nexport class ProductsUserComponent implements OnInit {\n  \n  constructor(\n    public productsService: ProductsService,\n    private productsCartStorageService: ProductsCartStorageService) { \n  }\n\n  @Input() term: string;\n  @Input() products$: Observable<IProductModel[]>;\n  productsCart: IProductModel[] = [];\n  \n\n  ngOnInit(): void {\n    this.products$ = this.productsService.getAll();\n    this.productsCart = this.productsCartStorageService.getProducts();\n  }\n\n  addToCard(product: IProductModel): void {\n    this.productsCart.push(product);\n    this.productsCartStorageService.saveProducts(this.productsCart);\n  }\n  \n  deleteFromCart(product: IProductModel){\n    this.productsCart = this.productsCart.filter(p => p.id != product.id);\n  }\n\n}\n","<div class=\"cards-container\" *ngIf=\"products$ | async as products\"> \n    <div *ngFor=\"let product of products | filterProducts:term\">\n        <app-product-card [product]=\"product\" (onAdded)=\"addToCard($event)\"></app-product-card>\n    </div>\n</div>"],"mappings":";;;;;;;;;ICCIA,EAAA,CAAAC,cAAA,UAA4D;IAClBD,EAAA,CAAAE,UAAA,qBAAAC,+EAAAC,MAAA;MAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAP,EAAA,CAAAQ,aAAA;MAAA,OAAWR,EAAA,CAAAS,WAAA,CAAAF,MAAA,CAAAG,SAAA,CAAAN,MAAA,CAAiB;IAAA,EAAC;IAACJ,EAAA,CAAAW,YAAA,EAAmB;;;;IAArEX,EAAA,CAAAY,SAAA,GAAmB;IAAnBZ,EAAA,CAAAa,UAAA,YAAAC,UAAA,CAAmB;;;;;IAF7Cd,EAAA,CAAAC,cAAA,aAAmE;IAC/DD,EAAA,CAAAe,UAAA,IAAAC,0CAAA,iBAEM;;IACVhB,EAAA,CAAAW,YAAA,EAAM;;;;;IAHuBX,EAAA,CAAAY,SAAA,GAAiC;IAAjCZ,EAAA,CAAAa,UAAA,YAAAb,EAAA,CAAAiB,WAAA,OAAAC,WAAA,EAAAC,MAAA,CAAAC,IAAA,EAAiC;;;ADU9D,OAAM,MAAOC,qBAAqB;EAEhCC,YACSC,eAAgC,EAC/BC,0BAAsD;IADvD,KAAAD,eAAe,GAAfA,eAAe;IACd,KAAAC,0BAA0B,GAA1BA,0BAA0B;IAKpC,KAAAC,YAAY,GAAoB,EAAE;EAJlC;EAOAC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,GAAG,IAAI,CAACJ,eAAe,CAACK,MAAM,EAAE;IAC9C,IAAI,CAACH,YAAY,GAAG,IAAI,CAACD,0BAA0B,CAACK,WAAW,EAAE;EACnE;EAEAnB,SAASA,CAACoB,OAAsB;IAC9B,IAAI,CAACL,YAAY,CAACM,IAAI,CAACD,OAAO,CAAC;IAC/B,IAAI,CAACN,0BAA0B,CAACQ,YAAY,CAAC,IAAI,CAACP,YAAY,CAAC;EACjE;EAEAQ,cAAcA,CAACH,OAAsB;IACnC,IAAI,CAACL,YAAY,GAAG,IAAI,CAACA,YAAY,CAACS,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,IAAIN,OAAO,CAACM,EAAE,CAAC;EACvE;;AAxBWf,qBAAqB,C;mBAArBA,qBAAqB,EAAArB,EAAA,CAAAqC,iBAAA,CAAAC,EAAA,CAAAC,eAAA,GAAAvC,EAAA,CAAAqC,iBAAA,CAAAG,EAAA,CAAAC,0BAAA;AAAA;AAArBpB,qBAAqB,C;QAArBA,qBAAqB;EAAAqB,SAAA;EAAAC,MAAA;IAAAvB,IAAA;IAAAO,SAAA;EAAA;EAAAiB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCXlCjD,EAAA,CAAAe,UAAA,IAAAoC,oCAAA,iBAIM;;;;MAJwBnD,EAAA,CAAAa,UAAA,SAAAb,EAAA,CAAAoD,WAAA,OAAAF,GAAA,CAAAvB,SAAA,EAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}