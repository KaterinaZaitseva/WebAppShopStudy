{"ast":null,"code":"import { ProductFormComponent } from '../../forms/product-form/product-form.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/products.service\";\nimport * as i2 from \"ng-zorro-antd/modal\";\nimport * as i3 from \"../../forms/product-form/product-form.component\";\nfunction ModalEditProductComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-product-form\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"product\", ctx_r0.product);\n  }\n}\nexport class ModalEditProductComponent {\n  constructor(productsService) {\n    this.productsService = productsService;\n    this.isVisible = false;\n  }\n  showModal(product) {\n    this.isVisible = true;\n    this.product = product;\n  }\n  handleOk() {\n    if (!this.productForm?.submitForm()) return;\n    this.productsService.update(this.product).subscribe();\n    this.isVisible = false;\n  }\n  handleCancel() {\n    this.isVisible = false;\n  }\n}\nModalEditProductComponent.ɵfac = function ModalEditProductComponent_Factory(t) {\n  return new (t || ModalEditProductComponent)(i0.ɵɵdirectiveInject(i1.ProductsService));\n};\nModalEditProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ModalEditProductComponent,\n  selectors: [[\"app-modal-edit-product\"]],\n  viewQuery: function ModalEditProductComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(ProductFormComponent, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.productForm = _t.first);\n    }\n  },\n  decls: 2,\n  vars: 1,\n  consts: [[\"nzTitle\", \"Editing\", 3, \"nzVisible\", \"nzVisibleChange\", \"nzOnCancel\", \"nzOnOk\"], [4, \"nzModalContent\"], [3, \"product\"]],\n  template: function ModalEditProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nz-modal\", 0);\n      i0.ɵɵlistener(\"nzVisibleChange\", function ModalEditProductComponent_Template_nz_modal_nzVisibleChange_0_listener($event) {\n        return ctx.isVisible = $event;\n      })(\"nzOnCancel\", function ModalEditProductComponent_Template_nz_modal_nzOnCancel_0_listener() {\n        return ctx.handleCancel();\n      })(\"nzOnOk\", function ModalEditProductComponent_Template_nz_modal_nzOnOk_0_listener() {\n        return ctx.handleOk();\n      });\n      i0.ɵɵtemplate(1, ModalEditProductComponent_ng_container_1_Template, 2, 1, \"ng-container\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"nzVisible\", ctx.isVisible);\n    }\n  },\n  dependencies: [i2.NzModalComponent, i2.NzModalContentDirective, i3.ProductFormComponent],\n  encapsulation: 2\n});","map":{"version":3,"names":["ProductFormComponent","i0","ɵɵelementContainerStart","ɵɵelement","ɵɵelementContainerEnd","ɵɵadvance","ɵɵproperty","ctx_r0","product","ModalEditProductComponent","constructor","productsService","isVisible","showModal","handleOk","productForm","submitForm","update","subscribe","handleCancel","ɵɵdirectiveInject","i1","ProductsService","selectors","viewQuery","ModalEditProductComponent_Query","rf","ctx","ɵɵelementStart","ɵɵlistener","ModalEditProductComponent_Template_nz_modal_nzVisibleChange_0_listener","$event","ModalEditProductComponent_Template_nz_modal_nzOnCancel_0_listener","ModalEditProductComponent_Template_nz_modal_nzOnOk_0_listener","ɵɵtemplate","ModalEditProductComponent_ng_container_1_Template","ɵɵelementEnd"],"sources":["/Users/kauriya/Documents/Projects/ASP.NET/WebAppShopStudy/web-shop-client/src/app/components/modal/modal-edit-product/modal-edit-product.component.ts","/Users/kauriya/Documents/Projects/ASP.NET/WebAppShopStudy/web-shop-client/src/app/components/modal/modal-edit-product/modal-edit-product.component.html"],"sourcesContent":["import { Component, Input, ViewChild } from '@angular/core';\nimport { ProductsService } from 'src/app/services/products.service';\nimport { ProductFormComponent } from '../../forms/product-form/product-form.component';\nimport { IProductModel } from 'src/app/models/product-model';\n\n@Component({\n  selector: 'app-modal-edit-product',\n  templateUrl: './modal-edit-product.component.html'\n})\nexport class ModalEditProductComponent {\n  \n  constructor(\n    private productsService: ProductsService,\n  ) {}\n\n\n  isVisible = false;\n\n  product: IProductModel\n  @ViewChild(ProductFormComponent) productForm: ProductFormComponent | undefined\n\n\n  showModal(product: IProductModel): void {\n    this.isVisible = true;\n    this.product = product;\n  }\n\n  handleOk(): void {\n    if(!this.productForm?.submitForm())\n      return;\n      \n    this.productsService.update(this.product).subscribe();\n    this.isVisible = false;\n  }\n\n  handleCancel(): void {\n    this.isVisible = false;\n  }\n\n}\n","<nz-modal [(nzVisible)]=\"isVisible\" \n  nzTitle=\"Editing\" \n  (nzOnCancel)=\"handleCancel()\" \n  (nzOnOk)=\"handleOk()\">\n  <ng-container *nzModalContent>\n    <app-product-form [product]=\"product\"></app-product-form>\n  </ng-container>\n</nz-modal>"],"mappings":"AAEA,SAASA,oBAAoB,QAAQ,iDAAiD;;;;;;;ICEpFC,EAAA,CAAAC,uBAAA,GAA8B;IAC5BD,EAAA,CAAAE,SAAA,0BAAyD;IAC3DF,EAAA,CAAAG,qBAAA,EAAe;;;;IADKH,EAAA,CAAAI,SAAA,GAAmB;IAAnBJ,EAAA,CAAAK,UAAA,YAAAC,MAAA,CAAAC,OAAA,CAAmB;;;ADIzC,OAAM,MAAOC,yBAAyB;EAEpCC,YACUC,eAAgC;IAAhC,KAAAA,eAAe,GAAfA,eAAe;IAIzB,KAAAC,SAAS,GAAG,KAAK;EAHd;EASHC,SAASA,CAACL,OAAsB;IAC9B,IAAI,CAACI,SAAS,GAAG,IAAI;IACrB,IAAI,CAACJ,OAAO,GAAGA,OAAO;EACxB;EAEAM,QAAQA,CAAA;IACN,IAAG,CAAC,IAAI,CAACC,WAAW,EAAEC,UAAU,EAAE,EAChC;IAEF,IAAI,CAACL,eAAe,CAACM,MAAM,CAAC,IAAI,CAACT,OAAO,CAAC,CAACU,SAAS,EAAE;IACrD,IAAI,CAACN,SAAS,GAAG,KAAK;EACxB;EAEAO,YAAYA,CAAA;IACV,IAAI,CAACP,SAAS,GAAG,KAAK;EACxB;;AA5BWH,yBAAyB,C;mBAAzBA,yBAAyB,EAAAR,EAAA,CAAAmB,iBAAA,CAAAC,EAAA,CAAAC,eAAA;AAAA;AAAzBb,yBAAyB,C;QAAzBA,yBAAyB;EAAAc,SAAA;EAAAC,SAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;qBAUzB1B,oBAAoB;;;;;;;;;;;;MCnBjCC,EAAA,CAAA2B,cAAA,kBAGwB;MAHd3B,EAAA,CAAA4B,UAAA,6BAAAC,uEAAAC,MAAA;QAAA,OAAAJ,GAAA,CAAAf,SAAA,GAAAmB,MAAA;MAAA,EAAyB,wBAAAC,kEAAA;QAAA,OAEnBL,GAAA,CAAAR,YAAA,EAAc;MAAA,EAFK,oBAAAc,8DAAA;QAAA,OAGvBN,GAAA,CAAAb,QAAA,EAAU;MAAA,EAHa;MAIjCb,EAAA,CAAAiC,UAAA,IAAAC,iDAAA,0BAEe;MACjBlC,EAAA,CAAAmC,YAAA,EAAW;;;MAPDnC,EAAA,CAAAK,UAAA,cAAAqB,GAAA,CAAAf,SAAA,CAAyB"},"metadata":{},"sourceType":"module","externalDependencies":[]}