{"ast":null,"code":"import { ProductsUserComponent } from 'src/app/components/products-user/products-user.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/products-cart-storage.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../components/cards/product-cart-card/product-cart-card.component\";\nfunction ProductCartPageComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"app-product-cart-card\", 2);\n    i0.ɵɵlistener(\"onDelete\", function ProductCartPageComponent_div_0_Template_app_product_cart_card_onDelete_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteFromCart($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"product\", product_r1);\n  }\n}\nexport class ProductCartPageComponent {\n  constructor(productsCartStorageService) {\n    this.productsCartStorageService = productsCartStorageService;\n  }\n  ngOnInit() {\n    this.productsCart = this.productsCartStorageService.getProducts();\n  }\n  deleteFromCart(product) {\n    this.productsCart = this.productsCart.filter(p => p.id != product.id);\n    this.productsCartStorageService.saveProducts(this.productsCart);\n    this.productUserPage?.deleteFromCart;\n  }\n}\nProductCartPageComponent.ɵfac = function ProductCartPageComponent_Factory(t) {\n  return new (t || ProductCartPageComponent)(i0.ɵɵdirectiveInject(i1.ProductsCartStorageService));\n};\nProductCartPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductCartPageComponent,\n  selectors: [[\"app-product-cart\"]],\n  viewQuery: function ProductCartPageComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(ProductsUserComponent, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.productUserPage = _t.first);\n    }\n  },\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"cards-container\", 4, \"ngFor\", \"ngForOf\"], [1, \"cards-container\"], [3, \"product\", \"onDelete\"]],\n  template: function ProductCartPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductCartPageComponent_div_0_Template, 2, 1, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngForOf\", ctx.productsCart);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ProductCartCardComponent],\n  styles: [\".cards-container[_ngcontent-%COMP%] {\\n    display: flex; \\n    flex-wrap: wrap; \\n    flex-direction: column;\\n    justify-content: center; \\n    margin: auto 20%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvcHJvZHVjdC1jYXJ0LXBhZ2UvcHJvZHVjdC1jYXJ0LXBhZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYixlQUFlO0lBQ2Ysc0JBQXNCO0lBQ3RCLHVCQUF1QjtJQUN2QixnQkFBZ0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZHMtY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7IFxyXG4gICAgZmxleC13cmFwOiB3cmFwOyBcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgXHJcbiAgICBtYXJnaW46IGF1dG8gMjAlO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["ProductsUserComponent","i0","ɵɵelementStart","ɵɵlistener","ProductCartPageComponent_div_0_Template_app_product_cart_card_onDelete_1_listener","$event","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","deleteFromCart","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","product_r1","ProductCartPageComponent","constructor","productsCartStorageService","ngOnInit","productsCart","getProducts","product","filter","p","id","saveProducts","productUserPage","ɵɵdirectiveInject","i1","ProductsCartStorageService","selectors","viewQuery","ProductCartPageComponent_Query","rf","ctx","ɵɵtemplate","ProductCartPageComponent_div_0_Template"],"sources":["/Users/kauriya/Documents/Projects/ASP.NET/WebAppShopStudy/web-shop-client/src/app/pages/product-cart-page/product-cart-page.component.ts","/Users/kauriya/Documents/Projects/ASP.NET/WebAppShopStudy/web-shop-client/src/app/pages/product-cart-page/product-cart-page.component.html"],"sourcesContent":["import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { ProductsUserComponent } from 'src/app/components/products-user/products-user.component';\nimport { IProductModel } from 'src/app/models/product-model';\nimport { ProductsCartStorageService } from 'src/app/services/products-cart-storage.service';\n\n@Component({\n  selector: 'app-product-cart',\n  templateUrl: './product-cart-page.component.html',\n  styleUrls: ['./product-cart-page.component.css']\n})\nexport class ProductCartPageComponent implements OnInit{\n  \n  constructor(private productsCartStorageService: ProductsCartStorageService) {}\n\n  \n  productsCart: IProductModel[];\n\n  @ViewChild(ProductsUserComponent) productUserPage: ProductsUserComponent | undefined;\n\n  ngOnInit(): void {\n    this.productsCart = this.productsCartStorageService.getProducts();\n  }\n\n  deleteFromCart(product: IProductModel){\n    this.productsCart = this.productsCart.filter(p => p.id != product.id);\n    this.productsCartStorageService.saveProducts(this.productsCart);\n    this.productUserPage?.deleteFromCart;\n  }\n\n}\n","<div class=\"cards-container\" *ngFor=\"let product of productsCart\">\n    <app-product-cart-card [product]=\"product\" (onDelete)=\"deleteFromCart($event)\"></app-product-cart-card>\n</div>"],"mappings":"AACA,SAASA,qBAAqB,QAAQ,0DAA0D;;;;;;;;ICDhGC,EAAA,CAAAC,cAAA,aAAkE;IACnBD,EAAA,CAAAE,UAAA,sBAAAC,kFAAAC,MAAA;MAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAP,EAAA,CAAAQ,aAAA;MAAA,OAAYR,EAAA,CAAAS,WAAA,CAAAF,MAAA,CAAAG,cAAA,CAAAN,MAAA,CAAsB;IAAA,EAAC;IAACJ,EAAA,CAAAW,YAAA,EAAwB;;;;IAAhFX,EAAA,CAAAY,SAAA,GAAmB;IAAnBZ,EAAA,CAAAa,UAAA,YAAAC,UAAA,CAAmB;;;ADS9C,OAAM,MAAOC,wBAAwB;EAEnCC,YAAoBC,0BAAsD;IAAtD,KAAAA,0BAA0B,GAA1BA,0BAA0B;EAA+B;EAO7EC,QAAQA,CAAA;IACN,IAAI,CAACC,YAAY,GAAG,IAAI,CAACF,0BAA0B,CAACG,WAAW,EAAE;EACnE;EAEAV,cAAcA,CAACW,OAAsB;IACnC,IAAI,CAACF,YAAY,GAAG,IAAI,CAACA,YAAY,CAACG,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,IAAIH,OAAO,CAACG,EAAE,CAAC;IACrE,IAAI,CAACP,0BAA0B,CAACQ,YAAY,CAAC,IAAI,CAACN,YAAY,CAAC;IAC/D,IAAI,CAACO,eAAe,EAAEhB,cAAc;EACtC;;AAjBWK,wBAAwB,C;mBAAxBA,wBAAwB,EAAAf,EAAA,CAAA2B,iBAAA,CAAAC,EAAA,CAAAC,0BAAA;AAAA;AAAxBd,wBAAwB,C;QAAxBA,wBAAwB;EAAAe,SAAA;EAAAC,SAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;qBAOxBlC,qBAAqB;;;;;;;;;;;;MCjBlCC,EAAA,CAAAmC,UAAA,IAAAC,uCAAA,iBAEM;;;MAF2CpC,EAAA,CAAAa,UAAA,YAAAqB,GAAA,CAAAf,YAAA,CAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}